spring.application.name=discord-clone
server.port=${SERVER_PORT:8081}

# profile 'dev' to run DatabaseSeeder (@Profile("dev"))
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}

# MYSQL
spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver
spring.datasource.url=${MYSQL_URL:jdbc:mysql://localhost:3306/discord-db?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&allowPublicKeyRetrieval=true}
spring.datasource.username=${MYSQL_USER:root}
spring.datasource.password=${MYSQL_PASSWORD:password_moi}

spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:update}
spring.jpa.show-sql=${JPA_SHOW_SQL:true}
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.jdbc.time_zone=Asia/Ho_Chi_Minh

# MONGODB
spring.data.mongodb.uri=${MONGO_URI:mongodb://localhost:27017/discord-db}
spring.data.mongodb.auto-index-creation=true

# THYMELEAF
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=HTML5
spring.thymeleaf.encoding=UTF-8

# ENCODING
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true

# SWAGGER
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html

# MAIL
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=tueteo741@gmail.com
spring.mail.password=hrxaaxpayxvubiaa
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.default-encoding=UTF-8

# REDIS (store OTP temporarily - TTL default 5 minutes)
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.timeout=${REDIS_TIMEOUT:60000}

# OTP Settings (customize per app)
otp.expiration.minutes=${OTP_EXPIRATION_MINUTES:5}
otp.length=${OTP_LENGTH:6}

# JACKSON
spring.jackson.time-zone=Asia/Ho_Chi_Minh
spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS=false
spring.jackson.date-format=yyyy-MM-dd'T'HH:mm:ss.SSSXXX

# JWT
discord.app.jwtSecret=${JWT_SECRET:VHVpTGFDaGF0R1BULVNlY3VyZS1LZXktQmFzZTY0LTEyMzQ1Njc4}
discord.app.jwtExpirationMs=${JWT_EXP_MS:86400000}

# File Upload
spring.servlet.multipart.max-file-size=${UPLOAD_MAX_FILE_SIZE:10MB}
spring.servlet.multipart.max-request-size=${UPLOAD_MAX_REQUEST_SIZE:10MB}

# Static upload serving
discord.upload.base-url=${DISCORD_UPLOAD_BASE_URL:http://localhost:${SERVER_PORT:8081}}
discord.upload.dir=${DISCORD_UPLOAD_DIR:uploads}

# WebSocket allowed origins
app.websocket.allowed-origins=${WS_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:5173}
